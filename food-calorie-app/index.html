<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FoodSnap Calorie Estimator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style.css" />

  <!-- TensorFlow.js (runs only in the browser) -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.20.0/dist/tf.min.js"></script>
</head>
<body>
  <main class="app">
    <header class="header">
      <h1>FoodSnap Calorie Estimator</h1>
      <p class="subtitle">
        Take a photo of your dish and Iâ€™ll guess what it is and roughly how many calories it has.
      </p>
    </header>

    <section class="card">
      <label for="image-upload" class="upload-label">
        <span id="upload-label-text">Tap here to take or choose a photo</span>
        <!-- capture="environment" opens the camera on mobile -->
        <input
          id="image-upload"
          type="file"
          accept="image/*"
          capture="environment"
        />
      </label>

      <div class="preview-wrapper">
        <img id="preview-image" alt="Food preview" />
        <!-- Hidden canvas for preprocessing to 224x224 -->
        <canvas id="hidden-canvas" width="224" height="224"></canvas>
      </div>

      <button id="predict-button" disabled>Loading model...</button>

      <p id="status" class="status-text">Initializing...</p>
    </section>

    <section id="results" class="card hidden">
      <h2>Result</h2>
      <p id="dish-name" class="dish-name"></p>
      <p id="confidence" class="confidence"></p>
      <p id="calorie-estimate" class="calories"></p>

      <div id="top3" class="top3"></div>

      <p class="disclaimer">
        Calorie values are approximate ranges for a typical serving, not medical or dietary advice.
      </p>
    </section>

    <footer class="footer">
      <small>Model: custom Food image classifier exported to TensorFlow.js</small>
    </footer>
  </main>

  <script src="script.js"></script>
</body>
</html>